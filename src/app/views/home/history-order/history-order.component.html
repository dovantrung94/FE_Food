<div class="screen-pay mgt-content-df">
    <div class="box-cart">
        <p class="tt-main-df">Lịch sử mua hàng</p>
        <table class="tb-product">
            <tr class="txt-title">
                <th class="infor-product">Mã đơn hàng </th>
                <th class="txt-price">Tổng tiền </th>
                <th class="txt-quantity">Ngày đặt</th>
                <th class="txt-quantity">Trạng thái</th>
                <th class="txt-total">Xem chi tiết</th>
            </tr>
            <tr *ngFor="let order of orderUser">
                <td>{{order.id}}</td>
                <td class="txt-price">{{order.totalPrice}}đ</td>
                <td>{{order.dateCreate}}</td>
                <td [ngSwitch]="order.status">
                    <span *ngSwitchCase="0">Đặt hàng thành công</span>
                    <span *ngSwitchCase="1">Đang giao hàng</span>
                    <span *ngSwitchCase="2">Hoàn thành </span>
                    <span *ngSwitchCase="3">Đã Hủy </span>
                </td>
                <td (click)="orderDetailOpen(order.id)" class="txt-total"><span class="icon-pencil icons"></span></td>
            </tr>

        </table>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="seenOrderDetail" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Order Detail</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="row">
                    <p class="col-md-4">Mã đơn hàng:</p>
                    <p class="col-md-8">{{orderDetail.id}}</p>
                </div>
                <div class="row">
                    <p class="col-md-4">Số điện thoại:</p>
                    <p class="col-md-8">{{orderDetail.phone}}</p>
                </div>
                <div class="row">
                    <p class="col-md-4">Địa chỉ nhận hàng :</p>
                    <p class="col-md-8">{{orderDetail.address}}</p>
                </div>
                <div class="row">
                    <p class="col-md-4">Địa chỉ nhận hàng :</p>
                    <div class="col-md-8">
                        <table>
                            <tr>
                                <th>Tên sản phẩm </th>
                                <th>Giá</th>
                                <th>Số lượng</th>
                                <th>Tổng tiền</th>
                            </tr>
                            <tr *ngFor="let product of orderDetail.orderDetailItemDtos">
                                <td>{{product.productName}}</td>
                                <td>{{product.price}}</td>
                                <td>{{product.quantity}}</td>
                                <td>{{product.quantity*product.price}}</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="row">
                    <p class="col-md-4">Ngày đặt:</p>
                    <p class="col-md-8">{{orderDetail.dateCreate}}</p>
                </div>

                <div class="row">
                    <p  class="col-md-4">Trạng thái:</p>
                    <p class="col-md-8" [ngSwitch]="orderDetail.status">
                        <span *ngSwitchCase="0">Đặt hàng thành công</span>
                        <span *ngSwitchCase="1">Đang giao hàng</span>
                        <span *ngSwitchCase="2">Hoàn thành </span>
                        <span *ngSwitchCase="3">Đã Hủy </span>
                    </p>

                </div>


            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" *ngIf="orderDetail.status == 0" (click)="cancelOrder(orderDetail.id)" class="btn btn-primary">Cancel Order</button>
            </div>
        </div>
    </div>
</div>